import{u as ns,F as as}from"./chunks/mounted.9d00e882.js";import{b as ls,d as ps}from"./chunks/type.8d15feec.js";import{d as T,M as v,g as q,h as i,H as n,n as es,a3 as J,W,x as j,T as ys,a0 as us,a1 as ms,L as h,o as f,c as w,w as I,a as $,b as bs,Q as _}from"./chunks/framework.c15ea7b3.js";import{R as Fs,A as B,C as u,a as g,b as m}from"./chunks/index.85adda07.js";import{w as N}from"./chunks/install.519a88e0.js";import{S as os}from"./chunks/index.d2ffef08.js";import{S as ts}from"./chunks/index.b31e96d5.js";import"./chunks/omit.dc85ab0f.js";import"./chunks/commonjsHelpers.725317a4.js";import"./chunks/dom.ba61793c.js";import"./chunks/BaseIcon.3b8efe15.js";import"./chunks/utils.d76eb849.js";import"./chunks/format-input.fdf4fd2b.js";import"./chunks/index.3c80c83c.js";function cs(p,l,s){for(let a=0;a<p.length;a++){const e=p[a];if(e[s.key]===l)return e;if(ls(e[s.children])&&e[s.children].length>0){const o=cs(e[s.children],l,s);if(o)return o}}return null}function rs(p,l,s=[]){return p&&ls(p[l.children])&&p[l.children].length>0?(s.push(...p[l.children]),p[l.children].forEach(a=>{rs(a,l,s)}),s):[]}function ds(p,l,s,a=[]){const e=cs(p,l,s);return(e?rs(e,s,a):[]).map(t=>t[s.key])}const Cs={title:{type:[String,Object]},icon:{type:[Object,Function]},itemKey:{type:[String,Number],required:!0}},Bs={title:{type:[String,Object]},icon:{type:[Object,Function]},itemKey:{type:[String,Number],required:!0},items:{type:Array},theme:{type:String}},gs={title:{type:[String,Object]},itemKey:{type:[String,Number],required:!0},items:{type:Array}},Ks={type:{type:String,default:"vertical"},items:{type:Array},theme:{type:String,default:"light"},popupSubMenuTrigger:{type:String,default:"hover"},openKeys:{type:Array,required:!0},selectedKeys:{type:Array,required:!0},inlineIndent:{type:Number,default:24},inlineCollapsed:{type:Boolean}},P=Symbol("menuContext"),M=Symbol("menuStateContext"),O=T({props:Cs,setup(p,{slots:l}){const s=v(P),a=v(M),{mounted:e}=ns(),o=q(()=>(s==null?void 0:s.type)==="inline"&&(s==null?void 0:s.inlineCollapsed)),t=i(!1),c=()=>{var E;(E=s==null?void 0:s.select)==null||E.call(s,p.itemKey)},r=()=>{var x,y,C;const{title:E,icon:b,itemKey:F}=p,V=((x=l.default)==null?void 0:x.call(l))||E,k=((y=l.icon)==null?void 0:y.call(l))||(ps(b)?b(p):b);let A=a==null?void 0:a.indentLevel;return(s==null?void 0:s.type)==="inline"&&(s!=null&&s.inlineCollapsed)&&!(a!=null&&a.inFloating)&&(A=void 0),n("li",{class:{"j-menu-item":!0,"j-menu-item-selected":(C=s==null?void 0:s.selectedKeys)==null?void 0:C.includes(F)},onClick:c},[n("div",{class:"j-menu-item-inner",style:{paddingLeft:A?`${A*((s==null?void 0:s.inlineIndent)||24)+16}px`:void 0}},[k?n("span",{class:"j-menu-item-icon"},[k]):null,n("span",{class:"j-menu-item-content"},[V])])])};return()=>e.value?n(as,{widgetName:"menu-item-popup",overlayClassName:es({[`j-menu-item-popup-${(s==null?void 0:s.theme)||"light"}`]:!0}),disabled:!o.value,open:t.value,placement:"right",offsetOption:9,"onUpdate:open":E=>{t.value=E}},{default:()=>r(),content:()=>{var E;return((E=l.default)==null?void 0:E.call(l))||p.title}}):r()}}),S=T({props:gs,setup(p,{slots:l}){const s=v(P),a=v(M),e=J({indentLevel:((a==null?void 0:a.indentLevel)||0)+1,inFloating:a==null?void 0:a.inFloating});return W(M,e),j(()=>a==null?void 0:a.inFloating,o=>{e.inFloating=o}),()=>{var r,E;const{title:o,items:t}=p,c=((r=l.title)==null?void 0:r.call(l))||o;return n("li",{class:"j-menu-item-group"},[n("div",{class:"j-menu-item-group-title"},[n("div",{class:"j-menu-item-group-title-inner",style:{paddingLeft:a!=null&&a.indentLevel?`${a.indentLevel*((s==null?void 0:s.inlineIndent)||24)+16}px`:void 0}},[c])]),t&&t.length>0?n("div",{class:"j-menu-item-group-list"},[t.map(b=>n(O,b,null))]):(E=l.default)==null?void 0:E.call(l)])}}}),Es=(p,l)=>{let s=0;for(let a=0;a<p.length;a++){const e=p[a];"items"in e&&e.items.length>0?"type"in e&&e.type==="group"?s+=1+e.items.length:l.includes(e.itemKey)&&(s+=1+Es(e.items,l)):s+=1}return s},ss=p=>{const{rowHeight:l,openKeys:s,items:a,subMenuKey:e}=p;return s.includes(e)?`${Es(a,s)*l}px`:"0px"},U=T({props:Bs,setup(p,{slots:l}){const s=v(P),a=v(M),e=q(()=>(s==null?void 0:s.type)==="inline"&&!(s!=null&&s.inlineCollapsed)),o=q(()=>(s==null?void 0:s.type)==="horizontal"&&!(a!=null&&a.inFloating)),t=J({indentLevel:e.value?((a==null?void 0:a.indentLevel)||0)+1:0,inFloating:!e.value});j(e,y=>{Object.assign(t,{indentLevel:y?((a==null?void 0:a.indentLevel)||0)+1:0,inFloating:!y})}),W(M,t);const c=i(!1),{mounted:r}=ns(),E=q(()=>ds([{itemKey:p.itemKey,items:p.items}],p.itemKey,{key:"itemKey",children:"items"})),b=q(()=>((s==null?void 0:s.selectedKeys)||[]).find(y=>E.value.includes(y))),F=q(()=>{var y;return!((y=s==null?void 0:s.openKeys)!=null&&y.includes(p.itemKey))}),V=y=>{var C;y.preventDefault(),(s==null?void 0:s.type)==="inline"&&!(s!=null&&s.inlineCollapsed)&&((C=s==null?void 0:s.changeFold)==null||C.call(s,p.itemKey,!F.value))},k=i(ss({rowHeight:44,openKeys:(s==null?void 0:s.openKeys)||[],subMenuKey:p.itemKey,items:p.items||[]}));j(()=>s==null?void 0:s.openKeys,y=>{y!=null&&y.includes(p.itemKey)&&(k.value=ss({rowHeight:44,openKeys:(s==null?void 0:s.openKeys)||[],subMenuKey:p.itemKey,items:p.items||[]}))});const A=()=>{var Y;const{title:y,icon:C,items:d}=p,L=((Y=l.title)==null?void 0:Y.call(l))||y,X=ps(C)?C(p):C,is=(s==null?void 0:s.theme)||"light";return n("li",{class:{"j-menu-submenu":!0,"j-menu-submenu-horizontal":(s==null?void 0:s.type)==="horizontal"&&!(a!=null&&a.indentLevel),"j-menu-submenu-inline":(s==null?void 0:s.type)==="inline","j-menu-submenu-selected":b.value,"j-menu-submenu-unfolded":(s==null?void 0:s.type)==="inline"&&!F.value}},[n("div",{class:{"j-menu-submenu-title":!0},onClick:V},[n("div",{class:"j-menu-submenu-title-inner",style:{paddingLeft:a!=null&&a.indentLevel?`${a.indentLevel*((s==null?void 0:s.inlineIndent)||24)+16}px`:void 0}},[X?n("span",{class:"j-menu-item-icon"},[X]):null,n("span",{class:"j-menu-item-content"},[L]),(s==null?void 0:s.type)==="horizontal"&&!(a!=null&&a.inFloating)?null:n(Fs,{class:{"j-menu-submenu-arrow":!0,"j-menu-submenu-arrow-unfolded":(s==null?void 0:s.type)==="inline"&&!F.value}},null)])]),(s==null?void 0:s.type)==="inline"?n(ys,{name:"j-menu-sub-show"},{default:()=>{var Z;return[us(n("ul",{class:{"j-menu":!0,"j-menu-sub":!0,"j-menu-inline":!0,[`j-menu-theme-${is}`]:!0},style:{"--j-menu-sub-height":k.value}},[d&&d.length>0?d.map(K=>"type"in K&&K.type==="group"?n(S,h({key:K.itemKey},K),null):"items"in K&&K.items.length>0?n(U,h({key:K.itemKey},K),null):n(O,h({key:K.itemKey},K),null)):(Z=l.default)==null?void 0:Z.call(l)]),[[ms,!F.value&&!s.inlineCollapsed]])]}}):null])},x=()=>{var C;const{items:y}=p;return y&&y.length>0?y.map(d=>"type"in d&&d.type==="group"?n(S,h({key:d.itemKey},d),null):"items"in d&&d.items.length>0?n(U,h({key:d.itemKey},d),null):n(O,h({key:d.itemKey},d),null)):(C=l.default)==null?void 0:C.call(l)};return()=>{const{theme:y}=p,d=(s==null?void 0:s.type)==="inline"&&(s==null?void 0:s.inlineCollapsed);return r.value?n(as,{widgetName:"submenu-popup",overlayClassName:es({"j-menu":!0,[`j-menu-theme-${y||(s==null?void 0:s.theme)||"light"}`]:!0}),disabled:e.value,open:c.value,"onUpdate:open":L=>{c.value=L},placement:o.value?"bottom-start":"right-start",arrowVisible:!1,offsetOption:9,trigger:d?"hover":(s==null?void 0:s.popupSubMenuTrigger)||"hover",useReferenceWidth:o.value},{default:()=>A(),content:()=>x()}):A()}}}),Q=U,hs=["update:selectedKeys","update:openKeys","select"],G=T({props:Ks,emits:hs,setup(p,{emit:l,slots:s}){const a=J({type:p.type,theme:p.theme,popupSubMenuTrigger:p.popupSubMenuTrigger,selectedKeys:p.selectedKeys,openKeys:p.openKeys,inlineIndent:p.inlineIndent,inlineCollapsed:p.inlineCollapsed,select:o=>{o!==void 0&&(l("update:selectedKeys",[o]),l("select",{key:o,selectedKeys:[o]}))},changeFold:(o,t)=>{const c=[...p.openKeys];if(t){const r=c.findIndex(E=>E===o);r!==-1&&c.splice(r,1)}else c.push(o);l("update:openKeys",c)}});return["type","theme","popupSubMenuTrigger","selectedKeys","openKeys","inlineIndent","inlineCollapsed"].forEach(o=>{j(()=>p[o],t=>{a[o]=t})}),W(P,a),()=>{var E;const{type:o,items:t,theme:c,inlineCollapsed:r}=p;return n("ul",{class:{"j-menu":!0,[`j-menu-${o}`]:o==="inline"?!r:!0,[`j-menu-theme-${c}`]:!0,"j-menu-inline-collapsed":o==="inline"&&r}},[t?t.map(b=>"type"in b&&b.type==="group"?n(S,h({key:b.itemKey},b),null):"items"in b&&b.items.length>0?n(Q,h({key:b.itemKey},b),null):n(O,h({key:b.itemKey},b),null)):(E=s.default)==null?void 0:E.call(s)])}}});O.name="JMenuItem";const z=N(O);Q.name="JSubMenu";const R=N(Q);S.name="JMenuItemGroup";const H=N(S);G.name="JMenu";G.Item=z;G.SubMenu=R;G.ItemGroup=H;const D=N(G,p=>{p.component(z.name,z),p.component(R.name,R),p.component(H.name,H)});const As={__name:"basic",setup(p){const l=i("light"),s=i([]),a=i([]),e=i([{itemKey:"1",title:"Menu Item 1",icon:n(B,null,null)},{itemKey:"2",title:"Menu Item 2 我的名字很长 我的名字很长 我的名字很长",icon:n(u,null,null)},{itemKey:"3",title:"Sub Menu 1",icon:n(g,null,null),items:[{itemKey:"3-1",title:"3-1",icon:n(m,null,null)},{itemKey:"3-2",title:"3-2",icon:n(u,null,null),items:[{itemKey:"3-2-1",title:"3-2-1",icon:n(m,null,null),items:[{itemKey:"3-2-1-1",title:"3-2-1-1",icon:n(m,null,null)},{itemKey:"3-2-1-2",title:"3-2-1-2",icon:n(g,null,null)},{type:"group",itemKey:"3-2-1-3",title:"Group In SubMenu 3-2-1",items:[{itemKey:"3-2-1-3-1",title:"3-2-1-3-1",icon:n(m,null,null)},{itemKey:"3-2-1-3-2",title:"3-2-1-3-2",icon:n(B,null,null)}]}]},{itemKey:"3-2-2",title:"3-2-2",icon:n(g,null,null)}]},{type:"group",itemKey:"3-3",title:"Group 1 In SubMenu",items:[{itemKey:"3-3-1",title:"3-3-1",icon:n(u,null,null)},{itemKey:"3-3-2",title:"3-3-2",icon:n(B,null,null)}]}]},{type:"group",itemKey:"4",title:"Item Group",items:[{itemKey:"4-1",title:"Item 1 in Group",icon:n(m,null,null)},{itemKey:"4-2",title:"Item 2 in Group",icon:n(u,null,null)}]}]);return(o,t)=>{const c=D;return f(),w("div",null,[n(c,{selectedKeys:a.value,"onUpdate:selectedKeys":t[0]||(t[0]=r=>a.value=r),openKeys:s.value,"onUpdate:openKeys":t[1]||(t[1]=r=>s.value=r),items:e.value,theme:l.value,style:{width:"256px"}},null,8,["selectedKeys","openKeys","items","theme"])])}}},qs={__name:"inline",setup(p){const l=i("light"),s=i([]),a=i([]),e=i([{itemKey:"1",title:"Menu Item 1",icon:n(B,null,null)},{itemKey:"2",title:"Menu Item 2",icon:n(u,null,null)},{itemKey:"3",title:"Sub Menu 1",icon:n(g,null,null),items:[{itemKey:"3-1",title:"3-1",icon:n(m,null,null)},{itemKey:"3-2",title:"3-2",icon:n(u,null,null),items:[{itemKey:"3-2-1",title:"3-2-1",icon:n(m,null,null),items:[{itemKey:"3-2-1-1",title:"3-2-1-1",icon:n(m,null,null)},{itemKey:"3-2-1-2",title:"3-2-1-2",icon:n(g,null,null)},{type:"group",itemKey:"3-2-1-3",title:"Group In SubMenu 3-2-1",items:[{itemKey:"3-2-1-3-1",title:"3-2-1-3-1",icon:n(m,null,null)},{itemKey:"3-2-1-3-2",title:"3-2-1-3-2",icon:n(B,null,null)}]}]},{itemKey:"3-2-2",title:"3-2-2",icon:n(g,null,null)}]},{type:"group",itemKey:"3-3",title:"Group 1 In SubMenu",items:[{itemKey:"3-3-1",title:"3-3-1",icon:n(u,null,null)},{itemKey:"3-3-2",title:"3-3-2",icon:n(B,null,null)}]}]},{type:"group",itemKey:"4",title:"Item Group",items:[{itemKey:"4-1",title:"Item 1 in Group",icon:n(m,null,null)},{itemKey:"4-2",title:"Item 2 in Group",icon:n(u,null,null)}]}]);return(o,t)=>{const c=D;return f(),w("div",null,[n(c,{type:"inline",selectedKeys:a.value,"onUpdate:selectedKeys":t[0]||(t[0]=r=>a.value=r),openKeys:s.value,"onUpdate:openKeys":t[1]||(t[1]=r=>s.value=r),items:e.value,theme:l.value,style:{width:"256px"}},null,8,["selectedKeys","openKeys","items","theme"])])}}},vs={style:{width:"256px"}},Os={__name:"collapsed",setup(p){const l=i(!0),s=i("light"),a=i([]),e=i([]),o=i([{itemKey:"1",title:"Menu Item 1",icon:n(B,null,null)},{itemKey:"2",title:"Menu Item 2",icon:n(u,null,null)},{itemKey:"3",title:"Sub Menu 1",icon:n(g,null,null),items:[{itemKey:"3-1",title:"3-1",icon:n(m,null,null)},{itemKey:"3-2",title:"3-2",icon:n(u,null,null),items:[{itemKey:"3-2-1",title:"3-2-1",icon:n(m,null,null),items:[{itemKey:"3-2-1-1",title:"3-2-1-1",icon:n(m,null,null)},{itemKey:"3-2-1-2",title:"3-2-1-2",icon:n(g,null,null)},{type:"group",itemKey:"3-2-1-3",title:"Group In SubMenu 3-2-1",items:[{itemKey:"3-2-1-3-1",title:"3-2-1-3-1",icon:n(m,null,null)},{itemKey:"3-2-1-3-2",title:"3-2-1-3-2",icon:n(B,null,null)}]}]},{itemKey:"3-2-2",title:"3-2-2",icon:n(g,null,null)}]},{type:"group",itemKey:"3-3",title:"Group 1 In SubMenu",items:[{itemKey:"3-3-1",title:"3-3-1",icon:n(u,null,null)},{itemKey:"3-3-2",title:"3-3-2",icon:n(B,null,null)}]}]},{type:"group",itemKey:"4",title:"Item Group",items:[{itemKey:"4-1",title:"Item 1 in Group",icon:n(m,null,null)},{itemKey:"4-2",title:"Item 2 in Group",icon:n(u,null,null)}]}]);return(t,c)=>{const r=ts,E=os,b=D;return f(),w("div",vs,[n(E,{align:"center"},{default:I(()=>[$(" 收起 "),n(r,{checked:l.value,"onUpdate:checked":c[0]||(c[0]=F=>l.value=F)},null,8,["checked"])]),_:1}),n(b,{type:"inline",selectedKeys:e.value,"onUpdate:selectedKeys":c[1]||(c[1]=F=>e.value=F),openKeys:a.value,"onUpdate:openKeys":c[2]||(c[2]=F=>a.value=F),inlineCollapsed:l.value,items:o.value,theme:s.value,style:{"margin-top":"20px"}},null,8,["selectedKeys","openKeys","inlineCollapsed","items","theme"])])}}},fs={__name:"horizontal",setup(p){const l=i("light"),s=i([]),a=i([]),e=i([{itemKey:"1",title:"Menu Item 1",icon:n(B,null,null)},{itemKey:"2",title:"Menu Item 2",icon:n(u,null,null)},{itemKey:"3",title:"Sub Menu 1",icon:n(g,null,null),items:[{itemKey:"3-1",title:"3-1",icon:n(m,null,null)},{itemKey:"3-2",title:"3-2",icon:n(u,null,null),items:[{itemKey:"3-2-1",title:"3-2-1",icon:n(m,null,null),items:[{itemKey:"3-2-1-1",title:"3-2-1-1",icon:n(m,null,null)},{itemKey:"3-2-1-2",title:"3-2-1-2",icon:n(u,null,null)},{type:"group",itemKey:"3-2-1-3",title:"Group 1 in 3-2-1",items:[{itemKey:"3-2-1-3-1",title:"Item 1 in Group 1",icon:n(u,null,null)},{itemKey:"3-2-1-3-2",title:"Item 2 in Group 1",icon:n(u,null,null)}]}]},{itemKey:"3-2-2",title:"3-2-2",icon:n(u,null,null)}]},{type:"group",itemKey:"3-3",title:"Group 3-3",items:[{itemKey:"3-3-1",title:"Item 1 in Group 3-3",icon:n(u,null,null)},{itemKey:"3-3-2",title:"Item 2 in Group 3-3",icon:n(u,null,null)}]}]}]);return(o,t)=>{const c=D;return f(),bs(c,{selectedKeys:a.value,"onUpdate:selectedKeys":t[0]||(t[0]=r=>a.value=r),openKeys:s.value,"onUpdate:openKeys":t[1]||(t[1]=r=>s.value=r),items:e.value,theme:l.value,type:"horizontal",style:{margin:"0 0 40px"}},null,8,["selectedKeys","openKeys","items","theme"])}}},_s={style:{width:"256px"}},ks={__name:"theme",setup(p){const l=i(!0),s=i("dark"),a=i([]),e=i([]),o=i([{itemKey:"1",title:"Menu Item 1",icon:n(B,null,null)},{itemKey:"2",title:"Menu Item 2",icon:n(u,null,null)},{itemKey:"3",title:"Sub Menu 1",icon:n(g,null,null),items:[{itemKey:"3-1",title:"3-1",icon:n(m,null,null)},{itemKey:"3-2",title:"3-2",icon:n(u,null,null),items:[{itemKey:"3-2-1",title:"3-2-1",icon:n(m,null,null),items:[{itemKey:"3-2-1-1",title:"3-2-1-1",icon:n(m,null,null)},{itemKey:"3-2-1-2",title:"3-2-1-2",icon:n(g,null,null)},{type:"group",itemKey:"3-2-1-3",title:"Group In SubMenu 3-2-1",items:[{itemKey:"3-2-1-3-1",title:"3-2-1-3-1",icon:n(m,null,null)},{itemKey:"3-2-1-3-2",title:"3-2-1-3-2",icon:n(B,null,null)}]}]},{itemKey:"3-2-2",title:"3-2-2",icon:n(g,null,null)}]},{type:"group",itemKey:"3-3",title:"Group 1 In SubMenu",items:[{itemKey:"3-3-1",title:"3-3-1",icon:n(u,null,null)},{itemKey:"3-3-2",title:"3-3-2",icon:n(B,null,null)}]}]},{type:"group",itemKey:"4",title:"Item Group",items:[{itemKey:"4-1",title:"Item 1 in Group",icon:n(m,null,null)},{itemKey:"4-2",title:"Item 2 in Group",icon:n(u,null,null)}]}]);return(t,c)=>{const r=ts,E=os,b=D;return f(),w("div",_s,[n(E,{align:"center"},{default:I(()=>[n(E,{align:"center"},{default:I(()=>[$(" 收起 "),n(r,{checked:l.value,"onUpdate:checked":c[0]||(c[0]=F=>l.value=F)},null,8,["checked"])]),_:1}),n(E,{align:"center"},{default:I(()=>[$(" 主题 "),n(r,{"checked-children":"D","unchecked-children":"L","checked-value":"dark","unchecked-value":"light",checked:s.value,"onUpdate:checked":c[1]||(c[1]=F=>s.value=F)},null,8,["checked"])]),_:1})]),_:1}),n(b,{type:"inline",selectedKeys:e.value,"onUpdate:selectedKeys":c[2]||(c[2]=F=>e.value=F),openKeys:a.value,"onUpdate:openKeys":c[3]||(c[3]=F=>a.value=F),inlineCollapsed:l.value,items:o.value,theme:s.value,style:{"margin-top":"20px"}},null,8,["selectedKeys","openKeys","inlineCollapsed","items","theme"])])}}},Ms=_("",4),Ss=_("",3),ws=_("",3),Gs=_("",3),Ds=_("",3),xs=_("",11),Xs=JSON.parse('{"title":"Menu","description":"","frontmatter":{"title":"Menu"},"headers":[],"relativePath":"components/menu/index.md","filePath":"components/menu/index.md","lastUpdated":1709033088000}'),Is={name:"components/menu/index.md"},Ys=Object.assign(Is,{setup(p){return(l,s)=>(f(),w("div",null,[Ms,n(As),Ss,n(qs),ws,n(Os),Gs,n(fs),Ds,n(ks),xs]))}});export{Xs as __pageData,Ys as default};
