var z=Object.defineProperty;var p=(e,i,t)=>i in e?z(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t;var a=(e,i,t)=>(p(e,typeof i!="symbol"?i+"":i,t),t);import{h as g,j as u,a6 as $}from"./framework.bf0d9ef3.js";const s={sm:576,md:768,lg:992,xl:1200,xxl:1600},l={xs:`(max-width: ${s.sm-1}px)`,sm:`(min-width: ${s.sm}px)`,md:`(min-width: ${s.md}px)`,lg:`(min-width: ${s.lg}px)`,xl:`(min-width: ${s.xl}px)`,xxl:`(min-width: ${s.xxl}px)`},x={[`(max-width: ${s.sm-1}px)`]:"xs",[`(min-width: ${s.sm}px)`]:"sm",[`(min-width: ${s.md}px)`]:"md",[`(min-width: ${s.lg}px)`]:"lg",[`(min-width: ${s.xl}px)`]:"xl",[`(min-width: ${s.xxl}px)`]:"xxl"},r=["sm","md","lg","xl","xxl"],P=(e,i)=>{if(i==="xs")return e[i];const t=r.indexOf(i);if(t!==-1){const n=r.slice(0,t+1);for(let h=n.length-1;h>=0;h--){const d=e[n[h]];if(d!==void 0)return d}}},w=()=>{const e=window.innerWidth,i=["xxl","xl","lg","md","sm"];for(let t=0;t<i.length;t++){const n=i[t];if(e>=s[n])return n}return"xs"};class M{constructor(){a(this,"initialized",!1);a(this,"watchers",new Map);a(this,"watcherId",1);a(this,"size")}on(i){return this.watchers.set(this.watcherId,i),this.initialized||(this.initialized=!0,Object.keys(l).forEach(t=>{const n=l[t],h=window.matchMedia(n);h.matches&&(this.size=x[h.media],console.log(`init size: ${this.size}`));const d=c=>{if(c.matches)this.size=x[c.media],this.watchers.forEach(o=>o(this.size)),console.log(`change size: ${this.size}`);else{const o=w();o!==this.size&&(this.size=o,this.watchers.forEach(f=>f(this.size)),console.log(`calc size: ${this.size}`))}};h.addEventListener("change",d)})),{id:this.watcherId++,size:this.size}}off(i){this.watchers.delete(i)}}const m=new M,k=({cb:e}={})=>{const i=g("xxl");let t;return u(()=>{i.value=w();const{id:n}=m.on(h=>{i.value=h,e==null||e()});t=n}),$(()=>{m.off(t)}),{mediaSize:i}};export{l as M,P as f,k as u};
